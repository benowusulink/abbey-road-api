{"mappings":"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","sources":["<anon>","src/javascript/events-page/controller/controller.js","src/javascript/events-page/view/view.js","src/javascript/events-page/model/model.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire8ea6\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"fJlDI\", function(module, exports) {\n\n$parcel$export(module.exports, \"EventsController\", () => $b73bd823f07e6e65$export$23ca5cb260756952);\n\nvar $eNqOo = parcelRequire(\"eNqOo\");\n\nvar $ewoyE = parcelRequire(\"ewoyE\");\nclass $b73bd823f07e6e65$export$23ca5cb260756952 {\n    constructor(){\n        this.view = new (0, $eNqOo.EventsView)();\n        this.model = new (0, $ewoyE.EventsModel)();\n        this.render_event_articles_and_event_categories();\n    }\n    render_event_articles_and_event_categories = ()=>{\n        this.model.registerListener((state)=>{\n            this.view.creating_and_render_event_articles(state);\n            this.view.creating_and_render_event_categories(state);\n        });\n        this.model.fetch_events().then((res)=>{\n            if (res.success) this.view.events_main_section1_nav1_ul1_li_hover(this.filter_event_categories);\n            else console.log(\"error\", res);\n        }).catch((err)=>{\n            console.log(err);\n        });\n    };\n    filter_event_categories = (category_name)=>{\n        this.model.filter_event_categories(category_name);\n    };\n}\n\n});\nparcelRegister(\"eNqOo\", function(module, exports) {\n\n$parcel$export(module.exports, \"EventsView\", () => $ac5a7092ef3df78f$export$5243479f360e5e98);\nclass $ac5a7092ef3df78f$export$5243479f360e5e98 {\n    constructor(){}\n    creating_and_render_event_articles = (state)=>{\n        // if events are loading show loading bar\n        if (state.events_loading) {\n            const events_main_section1_section1_div2 = document.getElementById(\"events-main-section1-section1-div2\");\n            events_main_section1_section1_div2.style.display = 'flex';\n        } else {\n            // remove loading \n            const events_main_section1_section1_div2 = document.getElementById(\"events-main-section1-section1-div2\");\n            events_main_section1_section1_div2.style.display = 'none';\n            // events finished loading and events exist within db\n            if (!state.events_loading && state.events.length > 1) {\n                const section = document.getElementById(\"events-main-section1-section1\");\n                section.replaceChildren(document.getElementById(\"events-main-section1-section1-div2\"));\n                //loop through each event and crrate an article\n                state.events.forEach((articles)=>{\n                    // creating events-main-section1-section1-article elements\n                    const article = document.createElement(\"article\");\n                    const div1 = document.createElement(\"div\");\n                    const div2 = document.createElement(\"div\");\n                    const div3 = document.createElement(\"div\");\n                    const div4 = document.createElement(\"div\");\n                    const span1 = document.createElement(\"span\");\n                    const span2 = document.createElement(\"span\");\n                    const span3 = document.createElement(\"span\");\n                    const span4 = document.createElement(\"span\");\n                    const h3 = document.createElement(\"h3\");\n                    const h4 = document.createElement(\"h4\");\n                    const p = document.createElement(\"p\");\n                    const p2 = document.createElement(\"p\");\n                    const div5 = document.createElement(\"div\");\n                    // appending elements into the correct elements within the dom\n                    section.appendChild(article);\n                    article.append(div1, div2);\n                    div1.append(span1, span2);\n                    div2.append(div3, div4);\n                    div3.append(h4, div5, p);\n                    div5.append(span3, h3);\n                    div4.append(span4, p2);\n                    // adding relevant attributes to elements\n                    article.classList.add(\"events-main-section1-section1-article\");\n                    div1.classList.add(\"events-main-section1-section1-article-div1\");\n                    span1.classList.add(\"events-main-section1-section1-article-span\");\n                    span1.id = \"events-main-section1-section1-article-span1\";\n                    span2.classList.add(\"events-main-section1-section1-article-span\");\n                    span2.id = \"events-main-section1-section1-article-span2\";\n                    div2.classList.add(\"events-main-section1-section1-article-div2\");\n                    div3.classList.add(\"events-main-section1-section1-article-div2-div1\");\n                    h4.classList.add(\"events-main-section1-section1-article-div2-div1-h4\");\n                    div5.id = \"events-main-section1-section1-article-div2-div1-div1\";\n                    span3.classList.add(\"events-main-section1-section1-article-div2-div1-div1-span\");\n                    h3.classList.add(\"events-main-section1-section1-article-div2-div1-div1-h3\");\n                    p.classList.add(\"events-main-section1-section1-article-div2-div1--p\");\n                    div4.classList.add(\"events-main-section1-section1-article-div2-div2\");\n                    span4.classList.add(\"events-main-section1-section1-article-div2-div2-span\");\n                    p2.classList.add(\"events-main-section1-section1-article-div2-div2-p\");\n                    // adding text content to relevent elements \n                    span1.textContent = `Event Date: ${articles.event_date}`;\n                    span2.textContent = articles.event_headline;\n                    h4.textContent = `Event Time: ${articles.event_time}`;\n                    span3.textContent = `Event Address:`;\n                    h3.textContent = articles.event_address;\n                    p.textContent = `Event Type: ${articles.event_type}`;\n                    p2.textContent = articles.event_description;\n                    span4.textContent = \"Event Description:\";\n                });\n            }\n            // events finished loading and NO events exist within db\n            if (!state.events_loading && state.events.length === 0) {\n                const section = document.getElementById(\"events-main-section1-section1\");\n                section.replaceChildren(document.getElementById(\"events-main-section1-section1-div2\"));\n                const div1 = document.createElement(\"div\");\n                const h3 = document.createElement(\"h3\");\n                section.appendChild(div1);\n                div1.append(h3);\n                div1.setAttribute(\"id\", \"events-main-section1-section1-div1\");\n                h3.setAttribute(\"id\", \"events-main-section1-section1-div1-h3\");\n                h3.textContent = \"Currently No events to Display\";\n            }\n        }\n    };\n    creating_and_render_event_categories = (state)=>{\n        // cache main html ul element\n        const mainUl = document.getElementById(\"events-main-section1-nav1-ul1-li-ul2\");\n        // if event_categories_loading is true \n        if (state.event_categories_loading) {\n            // hide any category divs if they exist\n            const lis = Array.from(document.getElementsByClassName(\"events-main-section1-nav1-ul1-li-ul-li2\"));\n            // if category divs exist\n            if (lis) // loop through each catergory and change display to none\n            lis.forEach((li)=>{\n                li.style.display = 'none';\n            });\n            // cache loading li \n            const loading_li = document.getElementById(\"events-main-section1-nav1-ul1-li-ul-li1\");\n            // display loading li\n            loading_li.style.display = 'block';\n        } else {\n            // remove loading li \n            // cache loading li \n            const loading_li = document.getElementById(\"events-main-section1-nav1-ul1-li-ul-li1\");\n            // if loading_li exists remove loading li\n            if (loading_li) loading_li.style.display = 'none';\n            mainUl.replaceChildren(document.getElementById(\"events-main-section1-nav1-ul1-li-ul-li1\"));\n            // loop through each event_category and create li for main html \n            // ul element \n            state.event_categories.forEach((event_category)=>{\n                // create elements\n                const li = document.createElement(\"li\");\n                const p = document.createElement(\"p\");\n                // set element attributes\n                li.setAttribute(\"class\", \"events-main-section1-nav1-ul1-li-ul-li2\");\n                li.setAttribute(\"name\", event_category);\n                p.setAttribute(\"class\", \"events-main-section1-nav1-ul1-li-ul-li-p\");\n                // set p textcontent\n                p.textContent = event_category;\n                // appending created elements to dom \n                mainUl.append(li);\n                li.append(p);\n            });\n        }\n    };\n    // adding event listeners to event categories\n    events_main_section1_nav1_ul1_li_hover = (event_filter_function)=>{\n        // caching events_main_section1_nav1_ul1_li elements\n        const mainli = Array.from(document.getElementsByClassName(\"events-main-section1-nav1-ul1-li\"));\n        // loop through mainLis\n        mainli.forEach((li)=>{\n            // add event listsner to events_main_section1_nav1_ul1_li2\n            if (li.id === \"events_main_section1_nav1_ul1_li2\") {\n                const mainUl = document.getElementById(\"events-main-section1-nav1-ul1-li-ul1\");\n                li.addEventListener(\"mouseenter\", (event)=>{\n                    console.log(\"mainli1 mouse enter\");\n                    mainUl.style.display = 'block';\n                    add_click_events(mainUl);\n                });\n                li.addEventListener(\"mouseleave\", (event)=>{\n                    console.log(\"mainli1 mouse leave\");\n                    mainUl.style.display = 'none';\n                });\n            } else if (li.id === \"events_main_section1_nav1_ul1_li3\") {\n                const mainUl = document.getElementById(\"events-main-section1-nav1-ul1-li-ul2\");\n                li.addEventListener(\"mouseenter\", (event)=>{\n                    console.log(\"mainli1 mouse enter\");\n                    mainUl.style.display = 'block';\n                    add_click_events(mainUl);\n                });\n                li.addEventListener(\"mouseleave\", (event)=>{\n                    console.log(\"mainli2 mouse leave\");\n                    mainUl.style.display = 'none';\n                });\n            }\n        });\n        const add_click_events = (mainUl)=>{\n            if (mainUl.id === \"events-main-section1-nav1-ul1-li-ul1\") {\n                const subLis = Array.from(document.getElementsByClassName(\"events-main-section1-nav1-ul1-li-ul-li1\"));\n                subLis.forEach((subli)=>{\n                    if (!subli.dataset.listenerAdded) {\n                        subli.addEventListener(\"click\", (event)=>{\n                            console.log(subli.getAttribute(\"name\"));\n                            event_filter_function(subli.getAttribute(\"name\"));\n                            mainUl.style.display = \"none\";\n                        });\n                        subli.dataset.listenerAdded = \"true\"; // mark as added\n                    }\n                });\n            } else if (mainUl.id === \"events-main-section1-nav1-ul1-li-ul2\") {\n                const subLis = Array.from(document.getElementsByClassName(\"events-main-section1-nav1-ul1-li-ul-li2\"));\n                subLis.forEach((subli)=>{\n                    if (!subli.dataset.listenerAdded) {\n                        subli.addEventListener(\"click\", (event)=>{\n                            console.log(subli.getAttribute(\"name\"));\n                            event_filter_function(subli.getAttribute(\"name\"));\n                            mainUl.style.display = \"none\";\n                        });\n                        subli.dataset.listenerAdded = \"true\"; // mark as added\n                    }\n                });\n            }\n        };\n    };\n}\n\n});\n\nparcelRegister(\"ewoyE\", function(module, exports) {\n\n$parcel$export(module.exports, \"EventsModel\", () => $a9271a8573a51e14$export$df8a830c8fe261fd);\nclass $a9271a8573a51e14$export$df8a830c8fe261fd {\n    constructor(){\n        this.state = {\n            events: [],\n            events_loading: false,\n            event_categories: [],\n            event_categories_loading: false\n        };\n        this.listeners = [];\n    }\n    setState = (newState)=>{\n        this.state = {\n            ...this.state,\n            ...newState\n        };\n        this.notifyListeners();\n        console.log(this.state);\n        return this.state;\n    };\n    getState = (stateName)=>{\n        if (this.state[stateName]) return this.state[stateName];\n        else console.log(\"no state exists\");\n    };\n    registerListener = (listener)=>{\n        this.listeners.push(listener);\n        listener(this.state);\n    };\n    notifyListeners = ()=>{\n        this.listeners.forEach((listener)=>{\n            listener(this.state);\n        });\n    };\n    fetch_events = ()=>{\n        // change state\n        this.setState({\n            events: [],\n            events_loading: true,\n            event_categories_loading: true\n        });\n        var res, res1, res2, err, err1;\n        return fetch(\"https://abbey-road-api.onrender.com/api/event_page/fetch_events\").then((res)=>{\n            return res.json();\n        }).then((res)=>{\n            if (res.success && res.data.length > 0) {\n                this.setState({\n                    events: res.data,\n                    events_loading: false\n                });\n                return this.fetch_event_categories().then((res)=>{\n                    if (res.success) return Promise.resolve(res);\n                    else return Promise.reject(false);\n                }).catch((err)=>{\n                    console.log(err);\n                    return Promise.reject(false);\n                });\n            } else {\n                this.setState({\n                    events: [],\n                    events_loading: false\n                });\n                return Promise.resolve({\n                    success: true\n                });\n            }\n        }).catch((err)=>{\n            this.setState({\n                events: [],\n                events_loading: false\n            });\n            return Promise.resolve(false);\n        });\n    };\n    fetch_event_categories = ()=>{\n        // if there events in array\n        if (this.getState(\"events\").length > 0) {\n            // adding default properties to event_categories variable\n            let event_categories = [\n                \"Meetings\",\n                \"Fundrasing\",\n                \"Community Outings\"\n            ];\n            // caching event_categories array = [];\n            let new_event_categories = [];\n            // loop through events array and cache unique event_type property into \n            // new_event_categories\n            this.getState(\"events\").forEach((event)=>{\n                // formatting event_type string to be capitalized\n                let event_name_trim = event.event_type.trim();\n                let event_name_capitalized = event_name_trim.charAt(0).toUpperCase() + event_name_trim.slice(1).toLowerCase();\n                if (!new_event_categories.includes(event_name_capitalized)) new_event_categories.push(event_name_capitalized);\n            });\n            // loop through unique new_event_categories variable and add unique values\n            // to default event_categories if the value doesnt already exist\n            new_event_categories.forEach((event_name)=>{\n                if (!event_categories.includes(event_name)) event_categories.push(event_name);\n            });\n            // set new event_categories state and turn off loading \n            this.setState({\n                event_categories_loading: false,\n                event_categories: event_categories\n            });\n            return Promise.resolve({\n                success: true\n            });\n        } else {\n            // turn off loading state and adding default properties to event_categories\n            this.setState({\n                event_categories_loading: false,\n                event_categories: [\n                    \"Meetings\",\n                    \"Fundrasing\",\n                    \"Community Outings\"\n                ]\n            });\n            return Promise.resolve({\n                success: true\n            });\n        }\n    };\n    filter_event_categories = (category_name)=>{\n        switch(category_name){\n            case \"Latest Events\":\n                const latestEvents = [\n                    ...this.getState(\"events\")\n                ].sort((a, b)=>{\n                    const today = new Date();\n                    // convert 'dd-mm-yyyy' → Date\n                    const [dayA, monthA, yearA] = a.event_date.split(\"-\").map(Number);\n                    const [dayB, monthB, yearB] = b.event_date.split(\"-\").map(Number);\n                    const dateA = new Date(yearA, monthA - 1, dayA);\n                    const dateB = new Date(yearB, monthB - 1, dayB);\n                    // absolute difference from today\n                    const diffA = Math.abs(dateA - today);\n                    const diffB = Math.abs(dateB - today);\n                    return diffB - diffA; // closer dates come first\n                });\n                this.setState({\n                    events: latestEvents\n                });\n                break;\n            case \"Oldest Events\":\n                const oldestEvents = [\n                    ...this.getState(\"events\")\n                ].sort((a, b)=>{\n                    const today = new Date();\n                    // convert 'dd-mm-yyyy' → Date\n                    const [dayA, monthA, yearA] = a.event_date.split(\"-\").map(Number);\n                    const [dayB, monthB, yearB] = b.event_date.split(\"-\").map(Number);\n                    const dateA = new Date(yearA, monthA - 1, dayA);\n                    const dateB = new Date(yearB, monthB - 1, dayB);\n                    // absolute difference from today\n                    const diffA = Math.abs(dateA - today);\n                    const diffB = Math.abs(dateB - today);\n                    return diffA - diffB; // closer dates come first\n                });\n                this.setState({\n                    events: oldestEvents\n                });\n                break;\n            default:\n                const today = new Date(); // not strictly needed, but kept for context\n                const newFilteredArray = [\n                    ...this.getState(\"events\")\n                ].sort((a, b)=>{\n                    // 1️⃣ Bring primaryType to the top\n                    if (a.event_type === category_name && b.event_type !== category_name) return -1;\n                    if (b.event_type === category_name && a.event_type !== category_name) return 1;\n                    // 2️⃣ If same type (or neither is primaryType), sort by latest date\n                    const [dayA, monthA, yearA] = a.event_date.split(\"-\").map(Number);\n                    const [dayB, monthB, yearB] = b.event_date.split(\"-\").map(Number);\n                    const dateA = new Date(yearA, monthA - 1, dayA);\n                    const dateB = new Date(yearB, monthB - 1, dayB);\n                    return dateB - dateA; // latest dates first\n                });\n                this.setState({\n                    events: newFilteredArray\n                });\n                break;\n        }\n    };\n}\n\n});\n\n\n\n//# sourceMappingURL=controller.559399f3.js.map\n","import { EventsView } from '../view/view.js';\nimport { EventsModel } from '../model/model.js';\n\nexport class EventsController {\n\n\tconstructor(){\n\n\t\tthis.view = new EventsView();\n\t\tthis.model = new EventsModel();\n\n\t\tthis.render_event_articles_and_event_categories();\n\t}\n\n\trender_event_articles_and_event_categories = () => {\n\n\t\tthis.model.registerListener((state)=>{\n\t\t\tthis.view.creating_and_render_event_articles(state);\n\t\t\tthis.view.creating_and_render_event_categories(state);\n\t\t});\n\t\t\n\t\tthis.model.fetch_events()\n\t\t.then((res)=>{\n\t\t\tif(res.success){\n\t\t\t\t\n\t\t\t\tthis.view.events_main_section1_nav1_ul1_li_hover(\n\t\t\t\t\tthis.filter_event_categories\n\t\t\t\t)\n\t\t\t}\n\t\t\telse{\n\t\t\t\tconsole.log(\"error\",res)\n\t\t\t}\n\t\t})\n\t\t.catch((err)=>{\n\t\t\tconsole.log(err)\n\t\t})\n\t}\n\n\tfilter_event_categories = (category_name) => {\n\t\tthis.model.filter_event_categories(category_name)\n\t}\n\n\n\n}","export class EventsView {\n\n\tconstructor(){\n\t\n\t}\n\n\tcreating_and_render_event_articles = (state) => {\n\n\t\t// if events are loading show loading bar\n\t\tif(state.events_loading){\n\n\t\t\tconst events_main_section1_section1_div2 = \n\t\t\tdocument.getElementById(\"events-main-section1-section1-div2\")\n\n\t\t\tevents_main_section1_section1_div2.style.display = \n\t\t\t'flex';\n\t\t}\n\t\t// if events have finished loading \n\t\telse{\n\t\t\t// remove loading \n\t\t\tconst events_main_section1_section1_div2 = \n\t\t\tdocument.getElementById(\"events-main-section1-section1-div2\")\n\n\t\t\tevents_main_section1_section1_div2.style.display = \n\t\t\t'none';\n\n\t\t\t// events finished loading and events exist within db\n\t\t\tif(!state.events_loading && state.events.length > 1){\n\n\n\t\t\t\tconst section = \n\t\t\t\tdocument.getElementById(\"events-main-section1-section1\");\n\n\t\t\t\tsection.replaceChildren(document.getElementById(\"events-main-section1-section1-div2\"));\n\n\t\t\t\t//loop through each event and crrate an article\n\t\t\t\tstate.events.forEach((articles)=>{\n\n\t\t\t\t\t// creating events-main-section1-section1-article elements\n\t\t\t\t\tconst article = document.createElement(\"article\");\n\t\t\t\t\tconst div1 = document.createElement(\"div\");\n\t\t\t\t\tconst div2 =document.createElement(\"div\");\n\t\t\t\t\tconst div3 = document.createElement(\"div\");\n\t\t\t\t\tconst div4 = document.createElement(\"div\");\n\t\t\t\t\tconst span1 = document.createElement(\"span\");\n\t\t\t\t\tconst span2 = document.createElement(\"span\");\n\t\t\t\t\tconst span3 = document.createElement(\"span\");\n\t\t\t\t\tconst span4 = document.createElement(\"span\");\n\t\t\t\t\tconst h3 = document.createElement(\"h3\");\n\t\t\t\t\tconst h4 = document.createElement(\"h4\");\n\t\t\t\t\tconst p = document.createElement(\"p\");\n\t\t\t\t\tconst p2 = document.createElement(\"p\");\n\t\t\t\t\tconst div5 = document.createElement(\"div\");\n\n\t\t\t\t\t// appending elements into the correct elements within the dom\n\t\t\t\t\tsection.appendChild(article);\n\n\t\t\t\t\tarticle.append(div1,div2);\n\n\t\t\t\t\tdiv1.append(span1,span2);\n\n\t\t\t\t\tdiv2.append(div3,div4);\n\n\t\t\t\t\tdiv3.append(h4,div5,p);\n\t\t\t\t\tdiv5.append(span3,h3);\n\n\t\t\t\t\tdiv4.append(span4,p2);\n\n\t\t\t\t\t// adding relevant attributes to elements\n\t\t\t\t\tarticle.classList.add(\"events-main-section1-section1-article\");\n\n\t\t\t\t\tdiv1.classList.add(\"events-main-section1-section1-article-div1\");\n\t\t\t\t\tspan1.classList.add(\"events-main-section1-section1-article-span\");\n\t\t\t\t\tspan1.id = \"events-main-section1-section1-article-span1\";\n\t\t\t\t\tspan2.classList.add(\"events-main-section1-section1-article-span\");\n\t\t\t\t\tspan2.id = \"events-main-section1-section1-article-span2\";\n\n\t\t\t\t\tdiv2.classList.add(\"events-main-section1-section1-article-div2\");\n\t\t\t\t\tdiv3.classList.add(\"events-main-section1-section1-article-div2-div1\");\n\t\t\t\t\th4.classList.add(\"events-main-section1-section1-article-div2-div1-h4\");\n\t\t\t\t\tdiv5.id = \"events-main-section1-section1-article-div2-div1-div1\";\n\t\t\t\t\tspan3.classList.add(\"events-main-section1-section1-article-div2-div1-div1-span\");\n\t\t\t\t\th3.classList.add(\"events-main-section1-section1-article-div2-div1-div1-h3\");\n\t\t\t\t\tp.classList.add(\"events-main-section1-section1-article-div2-div1--p\");\n\n\t\t\t\t\tdiv4.classList.add(\"events-main-section1-section1-article-div2-div2\");\n\t\t\t\t\tspan4.classList.add(\"events-main-section1-section1-article-div2-div2-span\");\n\t\t\t\t\tp2.classList.add(\"events-main-section1-section1-article-div2-div2-p\");\n\n\t\t\t\t\t// adding text content to relevent elements \n\t\t\t\t\tspan1.textContent = `Event Date: ${articles.event_date}`;\n\t\t\t\t\tspan2.textContent = articles.event_headline;\n\t\t\t\t\th4.textContent = `Event Time: ${articles.event_time}`;\n\t\t\t\t\tspan3.textContent = `Event Address:`;\n\t\t\t\t\th3.textContent = articles.event_address\n\t\t\t\t\tp.textContent = `Event Type: ${articles.event_type}`;\n\t\t\t\t\tp2.textContent = articles.event_description;\n\t\t\t\t\tspan4.textContent = \"Event Description:\";\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// events finished loading and NO events exist within db\n\t\t\tif(!state.events_loading && state.events.length === 0){\n\n\t\t\t\tconst section = \n\t\t\t\tdocument.getElementById(\"events-main-section1-section1\");\n\n\t\t\t\tsection.replaceChildren(document.getElementById(\"events-main-section1-section1-div2\"));\n\n\t\t\t\tconst div1 = document.createElement(\"div\");\n\t\t\t\tconst h3 = document.createElement(\"h3\");\n\n\t\t\t\tsection.appendChild(div1)\n\t\t\t\tdiv1.append(h3)\n\n\t\t\t\tdiv1.setAttribute(\"id\",\"events-main-section1-section1-div1\");\n\t\t\t\th3.setAttribute(\"id\",\"events-main-section1-section1-div1-h3\");\n\n\t\t\t\th3.textContent = \"Currently No events to Display\";\n\t\t\t}\n\t\t}\n\t}\n\n\tcreating_and_render_event_categories = (state) => {\n\n\t\t// cache main html ul element\n\t\tconst mainUl = \n\t\tdocument.getElementById(\"events-main-section1-nav1-ul1-li-ul2\");\n\n\t\t// if event_categories_loading is true \n\t\tif(state.event_categories_loading){\n\n\t\t\t// hide any category divs if they exist\n\t\t\tconst lis = \n\t\t\tArray.from(\n\t\t\t\tdocument.getElementsByClassName(\"events-main-section1-nav1-ul1-li-ul-li2\")\n\t\t\t)\n\n\t\t\t// if category divs exist\n\t\t\tif(lis){\n\n\t\t\t\t// loop through each catergory and change display to none\n\t\t\t\tlis.forEach((li)=>{\n\t\t\t\t\tli.style.display = 'none';\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// cache loading li \n\t\t\tconst loading_li = \n\t\t\tdocument.getElementById(\"events-main-section1-nav1-ul1-li-ul-li1\");\n\n\t\t\t// display loading li\n\t\t\tloading_li.style.display = 'block'\n\n\t\t}\n\t\t// if event_categories_loading is false\n\t\telse{\n\n\t\t\t// remove loading li \n\t\t\t// cache loading li \n\t\t\tconst loading_li = \n\t\t\tdocument.getElementById(\"events-main-section1-nav1-ul1-li-ul-li1\");\n\n\t\t\t// if loading_li exists remove loading li\n\t\t\tif(loading_li){\n\n\t\t\t\tloading_li.style.display = 'none';\n\t\t\t}\n\n\t\t\tmainUl.replaceChildren(document.getElementById(\"events-main-section1-nav1-ul1-li-ul-li1\"))\n\t\n\n\t\t\t// loop through each event_category and create li for main html \n\t\t\t// ul element \n\t\t\tstate.event_categories.forEach((event_category)=>{\n\n\t\t\t\t// create elements\n\t\t\t\tconst li = document.createElement(\"li\");\n\t\t\t\tconst p = document.createElement(\"p\");\n\n\t\t\t\t// set element attributes\n\t\t\t\tli.setAttribute(\"class\",\"events-main-section1-nav1-ul1-li-ul-li2\");\n\t\t\t\tli.setAttribute(\"name\",event_category);\n\t\t\t\tp.setAttribute(\"class\",\"events-main-section1-nav1-ul1-li-ul-li-p\");\n\n\t\t\t\t// set p textcontent\n\t\t\t\tp.textContent = event_category\n\n\t\t\t\t// appending created elements to dom \n\t\t\t\tmainUl.append(li)\n\t\t\t\tli.append(p)\n\t\t\t})\n\n\t\t}\n\n\t}\n\t\t\n\t// adding event listeners to event categories\n\tevents_main_section1_nav1_ul1_li_hover = (event_filter_function) => {\n\n\t\t// caching events_main_section1_nav1_ul1_li elements\n\t\tconst mainli = \n\t\tArray.from(\n\t\t\tdocument.getElementsByClassName(\"events-main-section1-nav1-ul1-li\")\n\t\t);\n\n\t\t// loop through mainLis\n\t\tmainli.forEach((li)=>{\n\n\n\t\t\t// add event listsner to events_main_section1_nav1_ul1_li2\n\t\t\tif(li.id === \"events_main_section1_nav1_ul1_li2\"){\n\n\t\t\t\tconst mainUl = \n\t\t\t\tdocument.getElementById(\"events-main-section1-nav1-ul1-li-ul1\");\n\n\t\t\t\tli.addEventListener(\"mouseenter\",(event)=>{\n\n\t\t\t\t\tconsole.log(\"mainli1 mouse enter\");\n\n\t\t\t\t\tmainUl.style.display = 'block'; \n\n\t\t\t\t\tadd_click_events(mainUl)\n\t\t\t\t})\n\n\t\t\t\tli.addEventListener(\"mouseleave\", (event)=>{\n\n\t\t\t\t\tconsole.log(\"mainli1 mouse leave\")\n\n\t\t\t\t\tmainUl.style.display = 'none';\n\n\t\t\t\t})\n\n\t\t\t}\n\t\t\telse if (li.id === \"events_main_section1_nav1_ul1_li3\") {\n\n\t\t\t\tconst mainUl = \n\t\t\t\tdocument.getElementById(\"events-main-section1-nav1-ul1-li-ul2\");\n\n\t\t\t\tli.addEventListener(\"mouseenter\",(event)=>{\n\n\t\t\t\t\tconsole.log(\"mainli1 mouse enter\");\n\n\t\t\t\t\tmainUl.style.display = 'block'; \n\n\t\t\t\t\tadd_click_events(mainUl)\n\t\t\t\t})\n\n\t\t\t\tli.addEventListener(\"mouseleave\", (event)=>{\n\n\t\t\t\t\tconsole.log(\"mainli2 mouse leave\")\n\n\t\t\t\t\tmainUl.style.display = 'none';\n\n\t\t\t\t})\n\n\t\t\t}\n\t\t})\n\n\t\tconst add_click_events = (mainUl) => {\n\n\t  \t\tif (mainUl.id === \"events-main-section1-nav1-ul1-li-ul1\") {\n\n\t    \t\tconst subLis = \n\t    \t\tArray.from(document.getElementsByClassName(\"events-main-section1-nav1-ul1-li-ul-li1\"));\n\n\t\t\t    subLis.forEach((subli) => {\n\n\t\t\t      if (!subli.dataset.listenerAdded) {   // prevent duplicates\n\n\t\t\t        subli.addEventListener(\"click\", (event) => {\n\n\t\t\t          console.log(subli.getAttribute(\"name\"));\n\n\t\t\t          event_filter_function(subli.getAttribute(\"name\"))\n\n\t\t\t          mainUl.style.display = \"none\";\n\t\t\t        });\n\n\t\t\t        subli.dataset.listenerAdded = \"true\"; // mark as added\n\t\t\t      }\n\n\t\t\t    });\n\t\t\t}\n\n\t  \t\telse if (mainUl.id === \"events-main-section1-nav1-ul1-li-ul2\") {\n\n\t   \t\t\tconst subLis = \n\t   \t\t\tArray.from(document.getElementsByClassName(\"events-main-section1-nav1-ul1-li-ul-li2\"));\n\n\t    \t\tsubLis.forEach((subli) => {\n\n\t      \t\t\tif (!subli.dataset.listenerAdded) {  // prevent duplicates\n\n\t\t\t\t        subli.addEventListener(\"click\", (event) => {\n\n\t\t\t\t          console.log(subli.getAttribute(\"name\"));\n\n\t\t\t\t          event_filter_function(subli.getAttribute(\"name\"))\n\n\t\t\t\t          mainUl.style.display = \"none\";\n\t\t\t\t        });\n\n\t\t\t\t        subli.dataset.listenerAdded = \"true\"; // mark as added\n\t      \t\t\t}\n\t    \t\t});\n\t  \t\t}\n\t\t};\n\n\t}\n\n\n};","export class EventsModel {\n\n\tconstructor(){\n\n\t\tthis.state = {\n      events :[],\n      events_loading: false,\n      event_categories : [],\n      event_categories_loading: false\n    }\n\n    this.listeners = [];\n\n\t}\n\n  setState = (newState) =>{ \n      this.state = {...this.state,...newState};\n      this.notifyListeners();\n      console.log(this.state)\n      return this.state\n  }\n\n  getState = (stateName) => {\n    if (this.state[stateName]) {\n      return this.state[stateName];\n    } else {\n      console.log(\"no state exists\");\n    }\n  };\n\n  registerListener = (listener) => {\n\n    this.listeners.push(listener)\n    listener(this.state);\n  }\n\n  notifyListeners = () => {\n    this.listeners.forEach((listener)=>{\n      listener(this.state)\n    })\n  }\n\n  fetch_events = () =>{\n\n    // change state\n    this.setState({\n      events : [],\n      events_loading: true,\n      event_categories_loading: true\n    })\n\n    if (process.env.NODE_ENV === \"production\") {\n    return fetch(\"https://abbey-road-api.onrender.com/api/event_page/fetch_events\")\n    .then((res)=>{\n      return res.json()\n    })\n    .then((res)=>{\n      if(res.success && res.data.length > 0){\n\n        this.setState({\n          events : res.data,\n          events_loading: false,\n        })\n\n        return this.fetch_event_categories()\n        .then((res)=>{\n          if(res.success){\n            return Promise.resolve(res)\n          }\n          else{\n           return Promise.reject(false)\n          }\n        })\n        .catch((err)=>{\n          console.log(err);\n          return Promise.reject(false)\n        })\n      }\n      else{\n         this.setState({\n          events : [],\n         events_loading: false,\n        })\n         return Promise.resolve({\n            success: true\n         })\n      }\n    })\n    .catch((err)=>{\n      this.setState({\n        events : [],\n        events_loading: false\n      })\n      return Promise.resolve(false)\n    })\n    }\n    else{\n    return fetch(\"http://localhost:3001/api/event_page/fetch_events\")\n    .then((res)=>{\n      return res.json()\n    })\n    .then((res)=>{\n      if(res.success && res.data.length > 0){\n\n        this.setState({\n          events : res.data,\n          events_loading: false,\n        })\n\n        return this.fetch_event_categories()\n        .then((res)=>{\n          if(res.success){\n            return Promise.resolve(res)\n          }\n          else{\n           return Promise.reject(false)\n          }\n        })\n        .catch((err)=>{\n          console.log(err);\n          return Promise.reject(false)\n        })\n      }\n      else{\n         this.setState({\n          events : [],\n         events_loading: false,\n        })\n         return Promise.resolve({\n            success: true\n         })\n      }\n    })\n    .catch((err)=>{\n      this.setState({\n        events : [],\n        events_loading: false\n      })\n      return Promise.resolve(false)\n    })\n    }\n\n  }\n\n  fetch_event_categories = () => {\n\n    // if there events in array\n    if(this.getState(\"events\").length > 0){\n\n      // adding default properties to event_categories variable\n       let event_categories = [\n        \"Meetings\",\n        \"Fundrasing\",\n        \"Community Outings\"\n        ]\n\n      // caching event_categories array = [];\n      let new_event_categories = [];\n\n      // loop through events array and cache unique event_type property into \n      // new_event_categories\n      this.getState(\"events\").forEach((event)=>{\n\n          // formatting event_type string to be capitalized\n          let event_name_trim = event.event_type.trim();\n          let event_name_capitalized = \n          event_name_trim.charAt(0).toUpperCase() + event_name_trim.slice(1).toLowerCase();\n\n\n          if (!new_event_categories.includes(event_name_capitalized)) {\n            new_event_categories.push(event_name_capitalized);\n          }\n      })\n\n      // loop through unique new_event_categories variable and add unique values\n      // to default event_categories if the value doesnt already exist\n      new_event_categories.forEach((event_name) => {\n\n        if (!event_categories.includes(event_name)) {\n          event_categories.push(event_name);\n        }\n\n      });\n\n     // set new event_categories state and turn off loading \n      this.setState({\n        event_categories_loading: false,\n        event_categories : event_categories\n      })\n\n      return Promise.resolve({\n        success:true\n        })\n    }\n\n    // if there are no events in array \n    else{\n      // turn off loading state and adding default properties to event_categories\n      this.setState({\n        event_categories_loading: false,\n        event_categories : [\n        \"Meetings\",\n        \"Fundrasing\",\n        \"Community Outings\"\n        ]\n      })\n\n      return Promise.resolve({\n        success:true\n      })\n\n    }\n  }\n\n  filter_event_categories = (category_name) => {\n\n    switch(category_name){\n\n      case \"Latest Events\":\n\n        const latestEvents = [...this.getState(\"events\")].sort((a,b)=>{\n\n        const today = new Date();\n\n          // convert 'dd-mm-yyyy' → Date\n          const [dayA, monthA, yearA] = a.event_date.split(\"-\").map(Number);\n          const [dayB, monthB, yearB] = b.event_date.split(\"-\").map(Number);\n\n          const dateA = new Date(yearA, monthA - 1, dayA);\n          const dateB = new Date(yearB, monthB - 1, dayB);\n\n          // absolute difference from today\n          const diffA = Math.abs(dateA - today);\n          const diffB = Math.abs(dateB - today);\n\n          return diffB - diffA; // closer dates come first\n\n        })\n\n        this.setState({events: latestEvents})\n      break;\n\n      case \"Oldest Events\":\n\n        const oldestEvents = [...this.getState(\"events\")].sort((a,b)=>{\n\n        const today = new Date();\n\n          // convert 'dd-mm-yyyy' → Date\n          const [dayA, monthA, yearA] = a.event_date.split(\"-\").map(Number);\n          const [dayB, monthB, yearB] = b.event_date.split(\"-\").map(Number);\n\n          const dateA = new Date(yearA, monthA - 1, dayA);\n          const dateB = new Date(yearB, monthB - 1, dayB);\n\n          // absolute difference from today\n          const diffA = Math.abs(dateA - today);\n          const diffB = Math.abs(dateB - today);\n\n          return diffA - diffB; // closer dates come first\n\n        })\n\n        this.setState({events: oldestEvents})\n      break;\n      default:\n        \n        const today = new Date(); // not strictly needed, but kept for context\n\n        const newFilteredArray = [...this.getState(\"events\")].sort((a, b) => {\n          // 1️⃣ Bring primaryType to the top\n          if (a.event_type === category_name && b.event_type !== category_name) return -1;\n          if (b.event_type === category_name && a.event_type !== category_name) return 1;\n\n          // 2️⃣ If same type (or neither is primaryType), sort by latest date\n          const [dayA, monthA, yearA] = a.event_date.split(\"-\").map(Number);\n          const [dayB, monthB, yearB] = b.event_date.split(\"-\").map(Number);\n\n          const dateA = new Date(yearA, monthA - 1, dayA);\n          const dateB = new Date(yearB, monthB - 1, dayB);\n\n          return dateB - dateA; // latest dates first\n        });\n\n        this.setState({\n          events: newFilteredArray\n        })\n        break;\n    }\n  }\n\n}\n\n\n\n\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","$b73bd823f07e6e65$export$23ca5cb260756952","$eNqOo","$ewoyE","view","EventsView","model","EventsModel","render_event_articles_and_event_categories","registerListener","state","creating_and_render_event_articles","creating_and_render_event_categories","fetch_events","then","res","success","events_main_section1_nav1_ul1_li_hover","filter_event_categories","console","log","catch","err","category_name","$ac5a7092ef3df78f$export$5243479f360e5e98","events_loading","events_main_section1_section1_div2","document","getElementById","style","display","events","length","section","replaceChildren","forEach","articles","article","createElement","div1","div2","div3","div4","span1","span2","span3","span4","h3","h4","p","p2","div5","appendChild","append","classList","add","id","textContent","event_date","event_headline","event_time","event_address","event_type","event_description","setAttribute","mainUl","event_categories_loading","lis","Array","from","getElementsByClassName","li","loading_li","event_categories","event_category","event_filter_function","mainli","addEventListener","event","add_click_events","subLis","subli","dataset","listenerAdded","getAttribute","$a9271a8573a51e14$export$df8a830c8fe261fd","listeners","setState","newState","notifyListeners","getState","stateName","listener","push","fetch","json","data","fetch_event_categories","Promise","resolve","reject","new_event_categories","event_name_trim","trim","event_name_capitalized","charAt","toUpperCase","slice","toLowerCase","includes","event_name","latestEvents","sort","a","b","today","Date","dayA","monthA","yearA","split","map","Number","dayB","monthB","yearB","dateA","dateB","diffA","Math","abs","diffB","oldestEvents","newFilteredArray"],"version":3,"file":"controller.559399f3.js.map"}