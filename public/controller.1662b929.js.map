{"mappings":"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","sources":["<anon>","src/javascript/news-page/controller/controller.js","src/javascript/news-page/view/view.js","src/javascript/news-page/model/model.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire8ea6\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"aDlaE\", function(module, exports) {\n\n$parcel$export(module.exports, \"NewsController\", () => $7bddf7f4cab5b4b1$export$7ad654b93cd5daff);\n\nvar $aMyGe = parcelRequire(\"aMyGe\");\n\nvar $8EzGk = parcelRequire(\"8EzGk\");\nclass $7bddf7f4cab5b4b1$export$7ad654b93cd5daff {\n    constructor(){\n        console.log(\"news controller working\");\n        this.model = new (0, $8EzGk.NewsModel)();\n        this.view = new (0, $aMyGe.NewsView)();\n        this.render_news_articles_and_news_categories();\n    }\n    render_news_articles_and_news_categories = ()=>{\n        this.model.registerListener((state)=>{\n            this.view.creating_and_render_news_articles(state);\n            this.view.creating_and_render_news_categories(state);\n        });\n        this.model.fetch_news().then((res)=>{\n            if (res.success) this.view.news_main_section1_nav1_ul1_li_hover(this.filter_news_categories);\n            else console.log(\"error\", res);\n        }).catch((err)=>{\n            console.log(err);\n        });\n    };\n    filter_news_categories = (category_name)=>{\n        this.model.filter_news_categories(category_name);\n    };\n}\n\n});\nparcelRegister(\"aMyGe\", function(module, exports) {\n\n$parcel$export(module.exports, \"NewsView\", () => $7d9949d5ff225b1b$export$b0069c2cb4e47783);\nclass $7d9949d5ff225b1b$export$b0069c2cb4e47783 {\n    constructor(){}\n    creating_and_render_news_articles = (state)=>{\n        // if events are loading show loading bar\n        if (state.news_loading) {\n            const news_main_section1_section1_div1 = document.getElementById(\"news-main-section1-section1-div1\");\n            news_main_section1_section1_div1.style.display = 'flex';\n        } else {\n            // remove loading \n            const news_main_section1_section1_div1 = document.getElementById(\"news-main-section1-section1-div1\");\n            news_main_section1_section1_div1.style.display = 'none';\n            // events finished loading and events exist within db\n            if (!state.news_loading && state.news.length > 1) {\n                const section = document.getElementById(\"news-main-section1-section1\");\n                section.replaceChildren(document.getElementById(\"news-main-section1-section1-div1\"));\n                //loop through each event and crrate an article\n                state.news.forEach((articles)=>{\n                    // creating news-main-section1-section1 elements\n                    const article = document.createElement(\"article\");\n                    const div1 = document.createElement(\"div\");\n                    const div2 = document.createElement(\"div\");\n                    const div3 = document.createElement(\"div\");\n                    const div4 = document.createElement(\"div\");\n                    const span1 = document.createElement(\"span\");\n                    const span2 = document.createElement(\"span\");\n                    const h3 = document.createElement(\"h3\");\n                    const h4 = document.createElement(\"h4\");\n                    const h5 = document.createElement(\"h5\");\n                    const img = document.createElement(\"img\");\n                    const p = document.createElement(\"p\");\n                    // appending elements into the correct elements within the dom\n                    const section = document.getElementById(\"news-main-section1-section1\");\n                    section.appendChild(article);\n                    article.append(div1, div2);\n                    div1.append(span1, span2);\n                    span1.appendChild(h4);\n                    span2.appendChild(h3);\n                    div2.append(div3, div4);\n                    div3.append(img, h5);\n                    div4.appendChild(p);\n                    // adding relevant attributes to elements\n                    article.classList.add(\"news-main-section1-section1-article\");\n                    div1.classList.add(\"news-main-section1-section1-article-div1\");\n                    span1.classList.add(\"news-main-section1-section1-article-div1-span\");\n                    span1.id = \"news-main-section1-section1-article-div1-span1\";\n                    h4.classList.add(\"news-main-section1-section1-article-div1-span1-h4\");\n                    span2.classList.add(\"news-main-section1-section1-article-div1-span\");\n                    span2.id = \"news-main-section1-section1-article-div1-span2\";\n                    h3.classList.add(\"news-main-section1-section1-article-div1-span1-h3\");\n                    div2.classList.add(\"news-main-section1-section1-article-div2\");\n                    div3.classList.add(\"news-main-section1-section1-article-div2-div1\");\n                    img.classList.add(\"news-main-section1-section1-article-div2-div1-img\");\n                    h5.classList.add(\"news-main-section1-section1-article-div2-div1-h5\");\n                    div4.classList.add(\"news-main-section1-section1-article-div2-div2\");\n                    p.classList.add(\"news-main-section1-section1-article-div2-div2-p\");\n                    // adding text content to relevent elements \n                    h4.textContent = `Date Published: ${articles.news_date}`;\n                    h3.textContent = articles.news_headline;\n                    h5.textContent = `Category: ${articles.news_category}`;\n                    h4.textContent = `Date Published: ${articles.news_date}`;\n                    p.textContent = articles.news_article;\n                    img.setAttribute(\"src\", articles.news_image);\n                    img.setAttribute(\"alt\", `${articles.news_headline},  No image available`.padStart(1));\n                });\n            }\n            // events finished loading and NO events exist within db\n            if (!state.news_loading && state.news.length === 0) {\n                const section = document.getElementById(\"news-main-section1-section1\");\n                section.replaceChildren(document.getElementById(\"news-main-section1-section1-div1\"));\n                const div1 = document.createElement(\"div\");\n                const h3 = document.createElement(\"h3\");\n                section.appendChild(div1);\n                div1.append(h3);\n                div1.setAttribute(\"id\", \"news-main-section1-section1-div1\");\n                h3.setAttribute(\"id\", \"news-main-section1-section1-div1-h3\");\n                h3.textContent = \"Currently No News to Display\";\n            }\n        }\n    };\n    creating_and_render_news_categories = (state)=>{\n        // cache main html ul element\n        const mainUl = document.getElementById(\"news-main-section1-nav1-ul-li-ul2\");\n        // if event_categories_loading is true \n        if (state.news_categories_loading) {\n            // hide any category divs if they exist\n            const lis = Array.from(document.getElementsByClassName(\"news-main-section1-nav1-ul-li-ul-li2\"));\n            // if category divs exist\n            if (lis) // loop through each catergory and change display to none\n            lis.forEach((li)=>{\n                li.style.display = 'none';\n            });\n            // cache loading li \n            const loading_li = document.getElementById(\"news-main-section1-nav1-ul-li-ul-li1\");\n            // display loading li\n            loading_li.style.display = 'block';\n        } else {\n            // remove loading li \n            // cache loading li \n            const loading_li = document.getElementById(\"news-main-section1-nav1-ul-li-ul-li1\");\n            // if loading_li exists remove loading li\n            if (loading_li) loading_li.style.display = 'none';\n            mainUl.replaceChildren(document.getElementById(\"news-main-section1-nav1-ul-li-ul-li1\"));\n            // loop through each event_category and create li for main html \n            // ul element \n            state.news_categories.forEach((news_category)=>{\n                // create elements\n                const li = document.createElement(\"li\");\n                const p = document.createElement(\"p\");\n                // set element attributes\n                li.setAttribute(\"class\", \"news-main-section1-nav1-ul-li-ul-li2\");\n                li.setAttribute(\"name\", news_category);\n                p.setAttribute(\"class\", \"news-main-section1-nav1-ul-li-ul-li-p\");\n                // set p textcontent\n                p.textContent = news_category;\n                // appending created elements to dom \n                mainUl.append(li);\n                li.append(p);\n            });\n        }\n    };\n    // adding event listeners to event categories\n    news_main_section1_nav1_ul1_li_hover = (news_filter_function)=>{\n        // caching events_main_section1_nav1_ul1_li elements\n        const mainli = Array.from(document.getElementsByClassName(\"news-main-section1-nav1-ul-li\"));\n        // loop through mainLis\n        mainli.forEach((li)=>{\n            // add event listsner to events_main_section1_nav1_ul1_li2\n            if (li.id === \"news-main-section1-nav1-ul-li1\") {\n                const mainUl = document.getElementById(\"news-main-section1-nav1-ul-li-ul1\");\n                li.addEventListener(\"mouseenter\", (event)=>{\n                    console.log(\"mainli1 mouse enter\");\n                    mainUl.style.display = 'block';\n                    add_click_news(mainUl);\n                });\n                li.addEventListener(\"mouseleave\", (event)=>{\n                    console.log(\"mainli1 mouse leave\");\n                    mainUl.style.display = 'none';\n                });\n            } else if (li.id === \"news-main-section1-nav1-ul-li2\") {\n                const mainUl = document.getElementById(\"news-main-section1-nav1-ul-li-ul2\");\n                li.addEventListener(\"mouseenter\", (event)=>{\n                    console.log(\"mainli1 mouse enter\");\n                    mainUl.style.display = 'block';\n                    add_click_news(mainUl);\n                });\n                li.addEventListener(\"mouseleave\", (event)=>{\n                    console.log(\"mainli2 mouse leave\");\n                    mainUl.style.display = 'none';\n                });\n            }\n        });\n        const add_click_news = (mainUl)=>{\n            if (mainUl.id === \"news-main-section1-nav1-ul-li-ul1\") {\n                const subLis = Array.from(document.getElementsByClassName(\"news-main-section1-nav1-ul-li-ul-li1\"));\n                subLis.forEach((subli)=>{\n                    if (!subli.dataset.listenerAdded) {\n                        subli.addEventListener(\"click\", (event)=>{\n                            console.log(subli.getAttribute(\"name\"));\n                            news_filter_function(subli.getAttribute(\"name\"));\n                            mainUl.style.display = \"none\";\n                        });\n                        subli.dataset.listenerAdded = \"true\"; // mark as added\n                    }\n                });\n            } else if (mainUl.id === \"news-main-section1-nav1-ul-li-ul2\") {\n                const subLis = Array.from(document.getElementsByClassName(\"news-main-section1-nav1-ul-li-ul-li2\"));\n                subLis.forEach((subli)=>{\n                    if (!subli.dataset.listenerAdded) {\n                        subli.addEventListener(\"click\", (event)=>{\n                            console.log(subli.getAttribute(\"name\"));\n                            news_filter_function(subli.getAttribute(\"name\"));\n                            mainUl.style.display = \"none\";\n                        });\n                        subli.dataset.listenerAdded = \"true\"; // mark as added\n                    }\n                });\n            }\n        };\n    };\n}\n\n});\n\nparcelRegister(\"8EzGk\", function(module, exports) {\n\n$parcel$export(module.exports, \"NewsModel\", () => $64cdbcce4709d608$export$3b95321827760662);\nclass $64cdbcce4709d608$export$3b95321827760662 {\n    constructor(){\n        this.state = {\n            news: [],\n            news_loading: false,\n            news_categories: [],\n            news_categories_loading: false\n        };\n        this.listeners = [];\n    }\n    setState = (newState)=>{\n        this.state = {\n            ...this.state,\n            ...newState\n        };\n        this.notifyListeners();\n        console.log(this.state);\n        return this.state;\n    };\n    getState = (stateName)=>{\n        if (this.state[stateName]) return this.state[stateName];\n        else console.log(\"no state exists\");\n    };\n    registerListener = (listener)=>{\n        this.listeners.push(listener);\n        listener(this.state);\n    };\n    notifyListeners = ()=>{\n        this.listeners.forEach((listener)=>{\n            listener(this.state);\n        });\n    };\n    fetch_news = ()=>{\n        // change state\n        this.setState({\n            news: [],\n            news_loading: true,\n            news_categories_loading: true\n        });\n        var res, res1, res2, err, err1;\n        return fetch(\"https://abbey-road-api.onrender.com/api/news_page/fetch_news\").then((res)=>{\n            return res.json();\n        }).then((res)=>{\n            if (res.success && res.data.length > 0) {\n                this.setState({\n                    news: res.data,\n                    news_loading: false\n                });\n                return this.fetch_news_categories().then((res)=>{\n                    if (res.success) return Promise.resolve(res);\n                    else return Promise.reject(false);\n                }).catch((err)=>{\n                    console.log(err);\n                    return Promise.reject(false);\n                });\n            } else {\n                this.setState({\n                    news: [],\n                    news_loading: false\n                });\n                return Promise.resolve({\n                    success: true\n                });\n            }\n        }).catch((err)=>{\n            this.setState({\n                news: [],\n                news_loading: false\n            });\n            return Promise.resolve(false);\n        });\n    };\n    fetch_news_categories = ()=>{\n        // if there events in array\n        if (this.getState(\"news\").length > 0) {\n            // adding default properties to event_categories variable\n            let news_categories = [\n                \"Updates\",\n                \"Community\",\n                \"Services\"\n            ];\n            // caching event_categories array = [];\n            let new_news_categories = [];\n            // loop through events array and cache unique event_type property into \n            // new_event_categories\n            this.getState(\"news\").forEach((news)=>{\n                // formatting event_type string to be capitalized\n                let news_name_trim = news.news_category.trim();\n                let news_name_capitalized = news_name_trim.charAt(0).toUpperCase() + news_name_trim.slice(1).toLowerCase();\n                if (!new_news_categories.includes(news_name_capitalized)) new_news_categories.push(news_name_capitalized);\n            });\n            // loop through unique new_event_categories variable and add unique values\n            // to default event_categories if the value doesnt already exist\n            new_news_categories.forEach((news_name)=>{\n                if (!news_categories.includes(news_name)) news_categories.push(news_name);\n            });\n            console.log(news_categories);\n            // set new event_categories state and turn off loading \n            this.setState({\n                news_categories_loading: false,\n                news_categories: news_categories\n            });\n            return Promise.resolve({\n                success: true\n            });\n        } else {\n            // turn off loading state and adding default properties to event_categories\n            this.setState({\n                news_categories_loading: false,\n                news_categories: [\n                    \"Updates\",\n                    \"Community\",\n                    \"Services\"\n                ]\n            });\n            return Promise.resolve({\n                success: true\n            });\n        }\n    };\n    filter_news_categories = (category_name)=>{\n        switch(category_name){\n            case \"Latest News\":\n                const latestNews = [\n                    ...this.getState(\"news\")\n                ].sort((a, b)=>{\n                    const today = new Date();\n                    // convert 'dd-mm-yyyy' → Date\n                    const [dayA, monthA, yearA] = a.news_date.split(\"-\").map(Number);\n                    const [dayB, monthB, yearB] = b.news_date.split(\"-\").map(Number);\n                    const dateA = new Date(yearA, monthA - 1, dayA);\n                    const dateB = new Date(yearB, monthB - 1, dayB);\n                    // absolute difference from today\n                    const diffA = Math.abs(dateA - today);\n                    const diffB = Math.abs(dateB - today);\n                    return diffA - diffB; // closer dates come first\n                });\n                console.log(latestNews);\n                this.setState({\n                    news: latestNews\n                });\n                break;\n            case \"Oldest News\":\n                const oldestNews = [\n                    ...this.getState(\"news\")\n                ].sort((a, b)=>{\n                    const today = new Date();\n                    // convert 'dd-mm-yyyy' → Date\n                    const [dayA, monthA, yearA] = a.news_date.split(\"-\").map(Number);\n                    const [dayB, monthB, yearB] = b.news_date.split(\"-\").map(Number);\n                    const dateA = new Date(yearA, monthA - 1, dayA);\n                    const dateB = new Date(yearB, monthB - 1, dayB);\n                    // absolute difference from today\n                    const diffA = Math.abs(dateA - today);\n                    const diffB = Math.abs(dateB - today);\n                    return diffB - diffA; // closer dates come first\n                });\n                this.setState({\n                    news: oldestNews\n                });\n                break;\n            default:\n                const today = new Date(); // not strictly needed, but kept for context\n                const newFilteredArray = [\n                    ...this.getState(\"news\")\n                ].sort((a, b)=>{\n                    // 1️⃣ Bring primaryType to the top\n                    if (a.news_category === category_name && b.news_category !== category_name) return -1;\n                    if (b.news_category === category_name && a.news_category !== category_name) return 1;\n                    // 2️⃣ If same type (or neither is primaryType), sort by latest date\n                    const [dayA, monthA, yearA] = a.news_date.split(\"-\").map(Number);\n                    const [dayB, monthB, yearB] = b.news_date.split(\"-\").map(Number);\n                    const dateA = new Date(yearA, monthA - 1, dayA);\n                    const dateB = new Date(yearB, monthB - 1, dayB);\n                    return dateB - dateA; // latest dates first\n                });\n                this.setState({\n                    news: newFilteredArray\n                });\n                break;\n        }\n    };\n}\n\n});\n\n\n\n//# sourceMappingURL=controller.1662b929.js.map\n","import {NewsView} from '../view/view.js';\nimport {NewsModel} from '../model/model.js';\n\n\nexport class NewsController {\n\n\tconstructor(){\n\t\tconsole.log(\"news controller working\")\n\n\t\tthis.model = new NewsModel();\n\t\tthis.view = new NewsView();\n\n\t\tthis.render_news_articles_and_news_categories();\n\t\t\n\t}\n\n\trender_news_articles_and_news_categories = () => {\n\n\t\tthis.model.registerListener((state)=>{\n\t\t\tthis.view.creating_and_render_news_articles(state);\n\t\t\tthis.view.creating_and_render_news_categories(state);\n\t\t});\n\t\t\n\t\tthis.model.fetch_news()\n\t\t.then((res)=>{\n\t\t\tif(res.success){\n\t\t\t\tthis.view.news_main_section1_nav1_ul1_li_hover(\n\t\t\t\t\tthis.filter_news_categories\n\t\t\t\t)\n\t\t\t}\n\t\t\telse{\n\t\t\t\tconsole.log(\"error\",res)\n\t\t\t}\n\t\t})\n\t\t.catch((err)=>{\n\t\t\tconsole.log(err)\n\t\t})\n\t}\n\n\tfilter_news_categories = (category_name) => {\n\t\tthis.model.filter_news_categories(category_name)\n\t}\n}","export class NewsView {\n\n\tconstructor(){\n\t}\n\n\tcreating_and_render_news_articles = (state) => {\n\n\t\t// if events are loading show loading bar\n\t\tif(state.news_loading){\n\n\t\t\tconst news_main_section1_section1_div1 = \n\t\t\tdocument.getElementById(\"news-main-section1-section1-div1\")\n\n\t\t\tnews_main_section1_section1_div1.style.display = \n\t\t\t'flex';\n\t\t}\n\t\t// if events have finished loading \n\t\telse{\n\t\t\t// remove loading \n\t\t\tconst news_main_section1_section1_div1 = \n\t\t\tdocument.getElementById(\"news-main-section1-section1-div1\")\n\n\t\t\tnews_main_section1_section1_div1.style.display = \n\t\t\t'none';\n\n\t\t\t// events finished loading and events exist within db\n\t\t\tif(!state.news_loading && state.news.length > 1){\n\n\n\t\t\t\tconst section = \n\t\t\t\tdocument.getElementById(\"news-main-section1-section1\");\n\n\t\t\t\tsection.replaceChildren(document.getElementById(\"news-main-section1-section1-div1\"));\n\n\t\t\t\t//loop through each event and crrate an article\n\t\t\t\tstate.news.forEach((articles)=>{\n\n\t\t\t\t\n\t\t\t\t\t// creating news-main-section1-section1 elements\n\t\t\t\t\tconst article = document.createElement(\"article\");\n\t\t\t\t\tconst div1 = document.createElement(\"div\");\n\t\t\t\t\tconst div2 =document.createElement(\"div\");\n\t\t\t\t\tconst div3 = document.createElement(\"div\");\n\t\t\t\t\tconst div4 = document.createElement(\"div\");\n\t\t\t\t\tconst span1 = document.createElement(\"span\");\n\t\t\t\t\tconst span2 = document.createElement(\"span\");\n\t\t\t\t\tconst h3 = document.createElement(\"h3\");\n\t\t\t\t\tconst h4 = document.createElement(\"h4\");\n\t\t\t\t\tconst h5 = document.createElement(\"h5\");\n\t\t\t\t\tconst img = document.createElement(\"img\");\n\t\t\t\t\tconst p = document.createElement(\"p\");\n\n\t\t\t\t\t// appending elements into the correct elements within the dom\n\t\t\t\t\tconst section = \n\t\t\t\t\tdocument.getElementById(\"news-main-section1-section1\");\n\n\t\t\t\t\tsection.appendChild(article);\n\n\t\t\t\t\tarticle.append(div1,div2);\n\n\t\t\t\t\tdiv1.append(span1,span2);\n\t\t\t\t\tspan1.appendChild(h4);\n\t\t\t\t\tspan2.appendChild(h3);\n\n\t\t\t\t\tdiv2.append(div3,div4);\n\t\t\t\t\tdiv3.append(img,h5);\n\t\t\t\t\tdiv4.appendChild(p);\n\n\t\t\t\t\t// adding relevant attributes to elements\n\t\t\t\t\tarticle.classList.add(\"news-main-section1-section1-article\");\n\n\t\t\t\t\tdiv1.classList.add(\"news-main-section1-section1-article-div1\");\n\t\t\t\t\tspan1.classList.add(\"news-main-section1-section1-article-div1-span\");\n\t\t\t\t\tspan1.id = \"news-main-section1-section1-article-div1-span1\";\n\t\t\t\t\th4.classList.add(\"news-main-section1-section1-article-div1-span1-h4\");\n\t\t\t\t\tspan2.classList.add(\"news-main-section1-section1-article-div1-span\");\n\t\t\t\t\tspan2.id = \"news-main-section1-section1-article-div1-span2\";\n\t\t\t\t\th3.classList.add(\"news-main-section1-section1-article-div1-span1-h3\");\n\n\t\t\t\t\tdiv2.classList.add(\"news-main-section1-section1-article-div2\");\n\t\t\t\t\tdiv3.classList.add(\"news-main-section1-section1-article-div2-div1\");\n\t\t\t\t\timg.classList.add(\"news-main-section1-section1-article-div2-div1-img\");\n\t\t\t\t\th5.classList.add(\"news-main-section1-section1-article-div2-div1-h5\");\n\t\t\t\t\tdiv4.classList.add(\"news-main-section1-section1-article-div2-div2\");\n\t\t\t\t\tp.classList.add(\"news-main-section1-section1-article-div2-div2-p\");\n\n\t\t\t\t\t// adding text content to relevent elements \n\t\t\t\t\th4.textContent = `Date Published: ${articles.news_date}`\n\t\t\t\t\th3.textContent = articles.news_headline\n\t\t\t\t\th5.textContent = `Category: ${articles.news_category}`\n\t\t\t\t\th4.textContent = `Date Published: ${articles.news_date}`\n\t\t\t\t\tp.textContent = articles.news_article\n\n\t\t\t\t\timg.setAttribute(\"src\", articles.news_image)\n\t\t\t\t\timg.setAttribute(\"alt\", `${articles.news_headline},  No image available`.padStart(1))\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// events finished loading and NO events exist within db\n\t\t\tif(!state.news_loading && state.news.length === 0){\n\n\t\t\t\tconst section = \n\t\t\t\tdocument.getElementById(\"news-main-section1-section1\");\n\n\t\t\t\tsection.replaceChildren(document.getElementById(\"news-main-section1-section1-div1\"));\n\n\t\t\t\tconst div1 = document.createElement(\"div\");\n\t\t\t\tconst h3 = document.createElement(\"h3\");\n\n\t\t\t\tsection.appendChild(div1)\n\t\t\t\tdiv1.append(h3)\n\n\t\t\t\tdiv1.setAttribute(\"id\",\"news-main-section1-section1-div1\");\n\t\t\t\th3.setAttribute(\"id\",\"news-main-section1-section1-div1-h3\");\n\n\t\t\t\th3.textContent = \"Currently No News to Display\";\n\t\t\t}\n\t\t}\n\t}\n\n\tcreating_and_render_news_categories = (state) => {\n\n\t\t// cache main html ul element\n\t\tconst mainUl = \n\t\tdocument.getElementById(\"news-main-section1-nav1-ul-li-ul2\");\n\n\t\t// if event_categories_loading is true \n\t\tif(state.news_categories_loading){\n\n\t\t\t// hide any category divs if they exist\n\t\t\tconst lis = \n\t\t\tArray.from(\n\t\t\t\tdocument.getElementsByClassName(\"news-main-section1-nav1-ul-li-ul-li2\")\n\t\t\t)\n\n\t\t\t// if category divs exist\n\t\t\tif(lis){\n\n\t\t\t\t// loop through each catergory and change display to none\n\t\t\t\tlis.forEach((li)=>{\n\t\t\t\t\tli.style.display = 'none';\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// cache loading li \n\t\t\tconst loading_li = \n\t\t\tdocument.getElementById(\"news-main-section1-nav1-ul-li-ul-li1\");\n\n\t\t\t// display loading li\n\t\t\tloading_li.style.display = 'block'\n\n\t\t}\n\t\t// if event_categories_loading is false\n\t\telse{\n\n\t\t\t// remove loading li \n\t\t\t// cache loading li \n\t\t\tconst loading_li = \n\t\t\tdocument.getElementById(\"news-main-section1-nav1-ul-li-ul-li1\");\n\n\t\t\t// if loading_li exists remove loading li\n\t\t\tif(loading_li){\n\n\t\t\t\tloading_li.style.display = 'none';\n\t\t\t}\n\n\t\t\tmainUl.replaceChildren(document.getElementById(\"news-main-section1-nav1-ul-li-ul-li1\"))\n\t\n\n\t\t\t// loop through each event_category and create li for main html \n\t\t\t// ul element \n\t\t\tstate.news_categories.forEach((news_category)=>{\n\n\t\t\t\t// create elements\n\t\t\t\tconst li = document.createElement(\"li\");\n\t\t\t\tconst p = document.createElement(\"p\");\n\n\t\t\t\t// set element attributes\n\t\t\t\tli.setAttribute(\"class\",\"news-main-section1-nav1-ul-li-ul-li2\");\n\t\t\t\tli.setAttribute(\"name\",news_category);\n\t\t\t\tp.setAttribute(\"class\",\"news-main-section1-nav1-ul-li-ul-li-p\");\n\n\t\t\t\t// set p textcontent\n\t\t\t\tp.textContent = news_category\n\n\t\t\t\t// appending created elements to dom \n\t\t\t\tmainUl.append(li)\n\t\t\t\tli.append(p)\n\t\t\t})\n\n\t\t}\n\n\t}\n\n\n\t// adding event listeners to event categories\n\tnews_main_section1_nav1_ul1_li_hover = (news_filter_function) => {\n\n\t\t// caching events_main_section1_nav1_ul1_li elements\n\t\tconst mainli = \n\t\tArray.from(\n\t\t\tdocument.getElementsByClassName(\"news-main-section1-nav1-ul-li\")\n\t\t);\n\n\t\t// loop through mainLis\n\t\tmainli.forEach((li)=>{\n\n\t\t\t// add event listsner to events_main_section1_nav1_ul1_li2\n\t\t\tif(li.id === \"news-main-section1-nav1-ul-li1\"){\n\n\t\t\t\tconst mainUl = \n\t\t\t\tdocument.getElementById(\"news-main-section1-nav1-ul-li-ul1\");\n\n\t\t\t\tli.addEventListener(\"mouseenter\",(event)=>{\n\n\t\t\t\t\tconsole.log(\"mainli1 mouse enter\");\n\n\t\t\t\t\tmainUl.style.display = 'block'; \n\n\t\t\t\t\tadd_click_news(mainUl)\n\t\t\t\t})\n\n\t\t\t\tli.addEventListener(\"mouseleave\", (event)=>{\n\n\t\t\t\t\tconsole.log(\"mainli1 mouse leave\")\n\n\t\t\t\t\tmainUl.style.display = 'none';\n\n\t\t\t\t})\n\n\t\t\t}\n\t\t\telse if (li.id === \"news-main-section1-nav1-ul-li2\") {\n\n\t\t\t\tconst mainUl = \n\t\t\t\tdocument.getElementById(\"news-main-section1-nav1-ul-li-ul2\");\n\n\t\t\t\tli.addEventListener(\"mouseenter\",(event)=>{\n\n\t\t\t\t\tconsole.log(\"mainli1 mouse enter\");\n\n\t\t\t\t\tmainUl.style.display = 'block'; \n\n\t\t\t\t\tadd_click_news(mainUl)\n\t\t\t\t})\n\n\t\t\t\tli.addEventListener(\"mouseleave\", (event)=>{\n\n\t\t\t\t\tconsole.log(\"mainli2 mouse leave\")\n\n\t\t\t\t\tmainUl.style.display = 'none';\n\n\t\t\t\t})\n\n\t\t\t}\n\t\t})\n\n\t\tconst add_click_news = (mainUl) => {\n\n\t  \t\tif (mainUl.id === \"news-main-section1-nav1-ul-li-ul1\") {\n\n\t    \t\tconst subLis = \n\t    \t\tArray.from(document.getElementsByClassName(\"news-main-section1-nav1-ul-li-ul-li1\"));\n\n\t\t\t    subLis.forEach((subli) => {\n\n\t\t\t      if (!subli.dataset.listenerAdded) {   // prevent duplicates\n\n\t\t\t        subli.addEventListener(\"click\", (event) => {\n\n\t\t\t          console.log(subli.getAttribute(\"name\"));\n\n\t\t\t          news_filter_function(subli.getAttribute(\"name\"))\n\n\t\t\t          mainUl.style.display = \"none\";\n\t\t\t        });\n\n\t\t\t        subli.dataset.listenerAdded = \"true\"; // mark as added\n\t\t\t      }\n\n\t\t\t    });\n\t\t\t}\n\n\t  \t\telse if (mainUl.id === \"news-main-section1-nav1-ul-li-ul2\") {\n\n\t   \t\t\tconst subLis = \n\t   \t\t\tArray.from(document.getElementsByClassName(\"news-main-section1-nav1-ul-li-ul-li2\"));\n\n\t    \t\tsubLis.forEach((subli) => {\n\n\t      \t\t\tif (!subli.dataset.listenerAdded) {  // prevent duplicates\n\n\t\t\t\t        subli.addEventListener(\"click\", (event) => {\n\n\t\t\t\t          console.log(subli.getAttribute(\"name\"));\n\n\t\t\t\t          news_filter_function(subli.getAttribute(\"name\"))\n\n\t\t\t\t          mainUl.style.display = \"none\";\n\t\t\t\t        });\n\n\t\t\t\t        subli.dataset.listenerAdded = \"true\"; // mark as added\n\t      \t\t\t}\n\t    \t\t});\n\t  \t\t}\n\t\t};\n\n\t}\n};\n\n","export class NewsModel {\n\n    constructor(){\n\n    this.state = {\n      news :[],\n      news_loading: false,\n      news_categories : [],\n      news_categories_loading: false\n    }\n\n    this.listeners = [];\n\n    }\n\n  setState = (newState) =>{ \n\n      this.state = {...this.state,...newState};\n\n      this.notifyListeners();\n\n      console.log(this.state);\n\n      return this.state;\n  }\n\n  getState = (stateName) => {\n\n    if (this.state[stateName]) {\n\n      return this.state[stateName];\n\n    } \n    else{\n\n      console.log(\"no state exists\");\n    }\n  };\n\n  registerListener = (listener) => {\n\n    this.listeners.push(listener);\n\n    listener(this.state);\n  }\n\n  notifyListeners = () => {\n\n    this.listeners.forEach((listener)=>{\n\n      listener(this.state);\n    })\n  }\n\n  fetch_news = () =>{\n\n    // change state\n    this.setState({\n      news : [],\n      news_loading: true,\n      news_categories_loading: true\n    })\n\n    if (process.env.NODE_ENV === \"production\") {\n    return fetch(\"https://abbey-road-api.onrender.com/api/news_page/fetch_news\")\n    .then((res)=>{\n      return res.json()\n    })\n    .then((res)=>{\n\n      if(res.success && res.data.length > 0){\n\n        this.setState({\n          news : res.data,\n          news_loading: false,\n        })\n\n        return this.fetch_news_categories()\n        .then((res)=>{\n          if(res.success){\n            return Promise.resolve(res)\n          }\n          else{\n           return Promise.reject(false)\n          }\n        })\n        .catch((err)=>{\n          console.log(err);\n          return Promise.reject(false)\n        })\n      }\n      else{\n         this.setState({\n          news : [],\n          news_loading: false,\n        })\n         return Promise.resolve({\n            success: true\n         })\n      }\n    })\n    .catch((err)=>{\n      this.setState({\n        news: [],\n        news_loading: false\n      })\n      return Promise.resolve(false)\n    })\n    }\n    else{\n    return fetch(\"http://localhost:3001/api/news_page/fetch_news\")\n    .then((res)=>{\n      return res.json()\n    })\n    .then((res)=>{\n\n      if(res.success && res.data.length > 0){\n\n        this.setState({\n          news : res.data,\n          news_loading: false,\n        })\n\n        return this.fetch_news_categories()\n        .then((res)=>{\n          if(res.success){\n            return Promise.resolve(res)\n          }\n          else{\n           return Promise.reject(false)\n          }\n        })\n        .catch((err)=>{\n          console.log(err);\n          return Promise.reject(false)\n        })\n      }\n      else{\n         this.setState({\n          news : [],\n          news_loading: false,\n        })\n         return Promise.resolve({\n            success: true\n         })\n      }\n    })\n    .catch((err)=>{\n      this.setState({\n        news: [],\n        news_loading: false\n      })\n      return Promise.resolve(false)\n    })\n    }\n\n  }\n\n  fetch_news_categories = () => {\n\n    // if there events in array\n    if(this.getState(\"news\").length > 0){\n\n      // adding default properties to event_categories variable\n       let news_categories = [\n        \"Updates\",\n        \"Community\",\n        \"Services\"\n        ]\n\n      // caching event_categories array = [];\n      let new_news_categories = [];\n\n      // loop through events array and cache unique event_type property into \n      // new_event_categories\n      this.getState(\"news\").forEach((news)=>{\n\n          // formatting event_type string to be capitalized\n          let news_name_trim = news.news_category.trim();\n          let news_name_capitalized = \n          news_name_trim.charAt(0).toUpperCase() + news_name_trim.slice(1).toLowerCase();\n\n\n          if (!new_news_categories.includes(news_name_capitalized)) {\n            new_news_categories.push(news_name_capitalized);\n          }\n      })\n\n\n\n      // loop through unique new_event_categories variable and add unique values\n      // to default event_categories if the value doesnt already exist\n      new_news_categories.forEach((news_name) => {\n\n        if (!news_categories.includes(news_name)) {\n          news_categories.push(news_name);\n        }\n\n      });\n\n      console.log(news_categories)\n\n     // set new event_categories state and turn off loading \n      this.setState({\n        news_categories_loading: false,\n        news_categories : news_categories\n      })\n\n      return Promise.resolve({\n        success:true\n        })\n    }\n\n    // if there are no events in array \n    else{\n      // turn off loading state and adding default properties to event_categories\n      this.setState({\n        news_categories_loading: false,\n        news_categories : [\n        \"Updates\",\n        \"Community\",\n        \"Services\"\n        ]\n      })\n\n      return Promise.resolve({\n        success:true\n      })\n\n    }\n  }\n\n  filter_news_categories = (category_name) => {\n\n    switch(category_name){\n\n      case \"Latest News\":\n\n        const latestNews = [...this.getState(\"news\")].sort((a,b)=>{\n\n        const today = new Date();\n\n          // convert 'dd-mm-yyyy' → Date\n          const [dayA, monthA, yearA] = a.news_date.split(\"-\").map(Number);\n          const [dayB, monthB, yearB] = b.news_date.split(\"-\").map(Number);\n\n          const dateA = new Date(yearA, monthA - 1, dayA);\n          const dateB = new Date(yearB, monthB - 1, dayB);\n\n          // absolute difference from today\n          const diffA = Math.abs(dateA - today);\n          const diffB = Math.abs(dateB - today);\n\n          return diffA - diffB; // closer dates come first\n\n        })\n\n        console.log(latestNews)\n\n        this.setState({news: latestNews})\n      break;\n\n      case \"Oldest News\":\n\n        const oldestNews = [...this.getState(\"news\")].sort((a,b)=>{\n\n        const today = new Date();\n\n          // convert 'dd-mm-yyyy' → Date\n          const [dayA, monthA, yearA] = a.news_date.split(\"-\").map(Number);\n          const [dayB, monthB, yearB] = b.news_date.split(\"-\").map(Number);\n\n          const dateA = new Date(yearA, monthA - 1, dayA);\n          const dateB = new Date(yearB, monthB - 1, dayB);\n\n          // absolute difference from today\n          const diffA = Math.abs(dateA - today);\n          const diffB = Math.abs(dateB - today);\n\n          return diffB - diffA; // closer dates come first\n\n        })\n\n        this.setState({news: oldestNews})\n      break;\n      default:\n        \n        const today = new Date(); // not strictly needed, but kept for context\n\n        const newFilteredArray = [...this.getState(\"news\")].sort((a, b) => {\n          // 1️⃣ Bring primaryType to the top\n          if (a.news_category === category_name && b.news_category !== category_name) return -1;\n          if (b.news_category === category_name && a.news_category !== category_name) return 1;\n\n          // 2️⃣ If same type (or neither is primaryType), sort by latest date\n          const [dayA, monthA, yearA] = a.news_date.split(\"-\").map(Number);\n          const [dayB, monthB, yearB] = b.news_date.split(\"-\").map(Number);\n\n          const dateA = new Date(yearA, monthA - 1, dayA);\n          const dateB = new Date(yearB, monthB - 1, dayB);\n\n          return dateB - dateA; // latest dates first\n        });\n\n        this.setState({\n          news: newFilteredArray\n        })\n        break;\n    }\n  }\n\n}\n\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","$7bddf7f4cab5b4b1$export$7ad654b93cd5daff","$aMyGe","$8EzGk","console","log","model","NewsModel","view","NewsView","render_news_articles_and_news_categories","registerListener","state","creating_and_render_news_articles","creating_and_render_news_categories","fetch_news","then","res","success","news_main_section1_nav1_ul1_li_hover","filter_news_categories","catch","err","category_name","$7d9949d5ff225b1b$export$b0069c2cb4e47783","news_loading","news_main_section1_section1_div1","document","getElementById","style","display","news","length","section","replaceChildren","forEach","articles","article","createElement","div1","div2","div3","div4","span1","span2","h3","h4","h5","img","p","appendChild","append","classList","add","id","textContent","news_date","news_headline","news_category","news_article","setAttribute","news_image","padStart","mainUl","news_categories_loading","lis","Array","from","getElementsByClassName","li","loading_li","news_categories","news_filter_function","mainli","addEventListener","event","add_click_news","subLis","subli","dataset","listenerAdded","getAttribute","$64cdbcce4709d608$export$3b95321827760662","listeners","setState","newState","notifyListeners","getState","stateName","listener","push","fetch","json","data","fetch_news_categories","Promise","resolve","reject","new_news_categories","news_name_trim","trim","news_name_capitalized","charAt","toUpperCase","slice","toLowerCase","includes","news_name","latestNews","sort","a","b","today","Date","dayA","monthA","yearA","split","map","Number","dayB","monthB","yearB","dateA","diffA","Math","abs","dateB","oldestNews","diffB","newFilteredArray"],"version":3,"file":"controller.1662b929.js.map"}