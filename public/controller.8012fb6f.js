function e(e,t,i,n){Object.defineProperty(e,t,{get:i,set:n,enumerable:!0,configurable:!0})}var t=globalThis.parcelRequire8ea6,i=t.register;i("fSVia",function(i,n){e(i.exports,"RIController",()=>d);var s=t("9O7T7"),a=t("jDneo");class d{constructor(){this.view=new(0,s.RIView),this.model=new(0,a.RIModel),this.model.fetch_images().then(e=>{console.log(e),this.view.render_all_images(e)}).catch(e=>{console.log(e)})}}}),i("9O7T7",function(t,i){e(t.exports,"RIView",()=>n);class n{constructor(){}render_all_images=e=>{console.log(e);let t=document.getElementById("resident_involvement_main_section2-div2"),i=document.getElementById("resident_involvement_main_section2-div-div-forwards-main"),n=document.getElementById("resident_involvement_main_section2-div-div-backwards-main"),s=null,a=0,d=0;e.data.forEach((e,i)=>{i%4==0&&((s=document.createElement("div")).classList.add("resident_involvement_main_section2-div-div"),s.setAttribute("id",`resident_involvement_main_section2-div-div-${a}`),t.append(s),++a>2&&(s.style.display="none"));let n=document.createElement("img");n.setAttribute("src",e.image_prod_url),n.classList.add("resident_involvement_main_section2-div-div-img"),n.alt=`photo for image id:${e.image_id}`,n.addEventListener("click",()=>{this.full_screen_images(e.image_prod_url)}),console.log(n.getAttribute("src")),s.appendChild(n)}),this.render_image_galleries(e.data),i.addEventListener("click",e=>{let t=Array.from(document.getElementsByClassName("resident_involvement_main_section2-div-div"));for(let e=d;e<d+2&&e<t.length;e++)t[e].style.display="none";(d+=2)>=t.length&&(d=t.length%2==0?t.length-2:t.length-1);for(let e=d;e<d+2&&e<t.length;e++)t[e].style.display="flex"}),n.addEventListener("click",e=>{let t=Array.from(document.getElementsByClassName("resident_involvement_main_section2-div-div"));for(let e=d;e<d+2&&e<t.length;e++)t[e].style.display="none";(d-=2)<0&&(d=0);for(let e=d;e<d+2&&e<t.length;e++)t[e].style.display="flex"})};full_screen_images=e=>{let t=document.getElementById("resident_involvement_main_section2-div-div3");t.setAttribute("id","resident_involvement_main_section2-div-div3"),t.style.display="flex",document.getElementById("resident_involvement_main_section2-div-div3-img").setAttribute("src",e),document.getElementById("resident_involvement_main_section2-div-div3-x").addEventListener("click",()=>{t.style.display="none"})};render_image_galleries=e=>{let t=Object.values(e.reduce((e,t)=>(t.image_category&&(e[t.image_category]||(e[t.image_category]={categoryName:t.image_category,images:[]}),e[t.image_category].images.push(t)),e),{})),i=document.getElementById("resident_involvement_main_section3");t.forEach(e=>{let t=0,n=document.createElement("article"),s=document.createElement("div"),a=document.createElement("h3"),d=document.createElement("div"),l=document.createElement("div");n.classList.add("resident_involvement_main_articles"),a.classList.add("resident_involvement_main_articles-h3"),s.classList.add("resident_involvement_main_articles-div"),d.classList.add("resident_involvement_main_section2-div-div-backwards"),d.textContent="<",d.setAttribute("id","resident_involvement_main_articles_div_div_backward"),l.setAttribute("id","resident_involvement_main_articles_div_div_forward"),l.classList.add("resident_involvement_main_section2-div-div-forwards"),l.textContent=">",a.textContent=e.categoryName,i.append(n),n.append(a,s),s.append(d,l);let o=()=>{Array.from(s.querySelectorAll("img")).forEach(e=>s.removeChild(e)),e.images.slice(t,t+4).forEach(e=>{let t=document.createElement("img");t.classList.add("resident_involvement_main_articles-div-img"),t.setAttribute("src",e.image_prod_url),s.appendChild(t)})};o(),l.addEventListener("click",()=>{console.log("forward"),t+4<e.images.length&&(t+=4,o())}),d.addEventListener("click",()=>{console.log("back"),t-4>=0&&(t-=4,o())})})}}}),i("jDneo",function(t,i){e(t.exports,"RIModel",()=>n);class n{constructor(){this.images=[]}get_images=()=>this.images;fetch_images=()=>fetch("https://abbey-road-api.onrender.com/api/resident-involvment-page/get_all_images").then(e=>e.json()).then(e=>e.success&e.data.length>0?(this.images=[...this.images,...e.data],Promise.resolve({status:!0,data:this.get_images()})):Promise.reject({status:!1})).catch(e=>(console.log(e),Promise.reject({status:!1})))}});
//# sourceMappingURL=controller.8012fb6f.js.map
